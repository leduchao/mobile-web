@model MobileWeb.Models.DTOs.UserDTO

@{
	ViewData["Title"] = "Cập nhật hồ sơ";
}

<div class="container-xl py-3">
	<h2 class="text-success mb-3">Cập nhật hồ sơ</h2>

	<form asp-controller="User" asp-action="EditProfile" enctype="multipart/form-data">
		<input type="hidden" value="@ViewBag.UserId" name="uid"/>

		<div class="row">
			<div class="col-xl-4">
				<!-- Profile picture card-->
				<div class="card mb-4 mb-xl-0">
					<div class="card-body text-center shadow">
						<img id="upload-preview" class="img-account-profile rounded-circle mb-2" width="315" height="315" src="~/img/users/@ViewBag.AvatarUrl" alt="">
						<div class="fst-italic text-black mb-4">JPG hoặc PNG và không quá 5 MB</div>
						<input asp-for="Avatar" id="upload-image" class="btn btn-outline-success w-100 form-control" type="file" value="Chọn hình ảnh mới" onchange="previewImage()" />
					</div>
				</div>
			</div>
			<div class="col-xl-8">
				<!-- Account details card-->
				<div class="card mb-4">
					<div class="card-body shadow">
						<div class="mb-3">
							<label class="small mb-1 fw-bold" asp-for="UserName">Tên người dùng (nickname)</label>
							<input asp-for="UserName" class="form-control" id="inputUsername" type="text" placeholder="Hãy nhập tên người dùng hoặc nickname..." />
						</div>

						<div class="row gx-3 mb-3">
							<div class="col-md-6">
								<label class="small mb-1 fw-bold" asp-for="FirstName">Tên</label>
								<input asp-for="FirstName" class="form-control" type="text" placeholder="Nhập tên..." />
							</div>
							<div class="col-md-6">
								<label class="small mb-1 fw-bold" asp-for="LastName">Họ</label>
								<input asp-for="LastName" class="form-control" type="text" placeholder="Nhập họ..." />
							</div>
						</div>

						<div class="mb-3">
							<label class="small mb-1 fw-bold" asp-for="Email">Email</label>
							<input asp-for="Email" class="form-control" id="inputEmailAddress" type="email" placeholder="Nhập email..." disabled/>
						</div>

						<div class="row gx-3 mb-3">
							<div class="col-md-6">
								<label class="small mb-1 fw-bold" asp-for="PhoneNumber">Số điện thoại</label>
								<input asp-for="PhoneNumber" class="form-control" id="inputPhone" type="tel" placeholder="Nhập số điện thoại..."/>
							</div>
							<div class="col-md-6">
								<label class="small mb-1" asp-for="Birthday">Ngày sinh</label>
								<input asp-for="Birthday" class="form-control" id="inputBirthday" type="text" placeholder="Nhập ngày sinh..."/>
							</div>
						</div>

						<div class="mb-3">
							<label class="small mb-1 fw-bold" asp-for="Address">Địa chỉ</label>
							<input asp-for="Address" class="form-control" id="inputEmailAddress" type="text" placeholder="Nhập địa chỉ..."/>
						</div>

						<!-- Save changes button-->
						<button class="w-100 border border-success border-3 btn btn-outline-success fw-bold" type="submit">Lưu thay đổi</button>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>

@section Scripts {
	<script type="text/javascript">

		// show image which is chose in input type="file"
		function previewImage() {
			var oFReader = new FileReader();
			oFReader.readAsDataURL(document.getElementById("upload-image").files[0]);

			oFReader.onload = function (oFREvent) {
				document.getElementById("upload-preview").src = oFREvent.target.result;
			};
		};

	</script>
}