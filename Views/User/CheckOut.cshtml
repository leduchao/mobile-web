@using MobileWeb.Models.DTOs
@using MobileWeb.Services.CartService

@inject ICartService cartService

@{
	ViewData["Title"] = "Đặt hàng";
	var cart = cartService.GetAllItems();
}

@model OrderDTO

<div class="container py-5">
	<div class="row g-5">
		<div class="col-md-6 col-lg-6 order-md-last">
			<div class="d-flex justify-content-between align-items-center mb-2">
				<h2 class="text-success">Giỏ hàng</h2>
				<span class="badge bg-success rounded-pill">@cart.Count</span>
			</div>

			<ul class="list-group mb-3">
				@foreach (var item in cart)
				{
					<li class="list-group-item d-flex justify-content-between lh-sm">
						<div>
							<h6 class="my-0">@item.Product.Name</h6>
							<small class="text-success">Số lượng: @item.Quantity</small>
						</div>
						<span class="text-red">@item.Product.Price ($)</span>
					</li>
				}

				<li class="list-group-item d-flex justify-content-between">
					<span>Tổng tiền:</span>
					<strong> ($)</strong>
				</li>
			</ul>
		</div>

		<div class="col-md-6 col-lg-6">
			<h2 class="mb-3 text-success">Thông tin khách hàng</h2>
			<form class="needs-validation" novalidate>
				<div class="row g-0">
					<div class="col-12  form-floating mb-4">
						<input asp-for="FullName" type="text" class="form-control" placeholder="" value="" required>
						<label asp-for="FullName">Tên đầy đủ</label>
						<span asp-validation-for="FullName"></span>
					</div>

					<div class="col-12 form-floating mb-4">
						<input asp-for="Address" type="text" class="form-control" placeholder="1234 Main St..." required>
						<label asp-for="Address">Địa chỉ nhận hàng</label>
						<span asp-validation-for="Address"></span>
					</div>

					<div class="col-12 form-floating">
						<input asp-for="PhoneNumber" type="text" class="form-control" placeholder="01234..." required>
						<label asp-for="PhoneNumber">Số điện thoại</label>
						<span asp-validation-for="PhoneNumber"></span>
					</div>
				</div>

				<hr class="my-4">

				<h4 class="mb-3">Phương thức thanh toán</h4>

				<div class="my-3">
					<div class="form-check">
						<input asp-for="PaymentMethod" type="radio" value="@Enum.GetName(typeof(PaymentMethods), 0)" class="form-check-input" required>
						<label class="form-check-label" asp-for="PaymentMethod">Thanh toán khi nhận hàng</label>
					</div>
					<div class="form-check">
						<input asp-for="PaymentMethod" type="radio" value="@Enum.GetName(typeof(PaymentMethods), 1)" class="form-check-input" required>
						<label asp-for="PaymentMethod" class="form-check-label" for="debit">Paypal</label>
					</div>
				</div>

				<hr class="my-4">

				<button class="w-100 border-3 border-success btn btn-outline-success btn-lg fw-bold" type="submit">Đặt hàng</button>
			</form>
		</div>
	</div>
</div>